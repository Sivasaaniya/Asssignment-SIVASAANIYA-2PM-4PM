<!DOCTYPE html>
<html>
<head>
    <title>Error Handling Demo</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        input, button { padding: 5px; margin: 5px; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>

<h2>1. Form with Error Handling</h2>
<form id="userForm">
    Name: <input type="text" id="name"><br>
    Email: <input type="email" id="email"><br>
    <button type="submit">Submit</button>
</form>
<p id="formMessage"></p>

<h2>2. API Call with Error Handling</h2>
<button id="fetchBtn">Fetch Data</button>
<p id="apiMessage"></p>

<script>
    document.getElementById("userForm").addEventListener("submit", function(e) {
        e.preventDefault(); 
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const msg = document.getElementById("formMessage");

        try {
            if (!name || !email) throw "Please fill out all fields!";
            if (!email.includes("@")) throw "Please enter a valid email!";
            
            msg.textContent = `Form submitted successfully! Name: ${name}, Email: ${email}`;
            msg.className = "success";
        } catch (err) {
            msg.textContent = err;
            msg.className = "error";

            console.error("Form Error:", err);
        }
    });

    document.getElementById("fetchBtn").addEventListener("click", async function() {
        const apiMsg = document.getElementById("apiMessage");
        apiMsg.textContent = "Fetching data...";
        apiMsg.className = "";

        try {
            let response = await fetch("https://jsonplaceholder.typicode.com/users");
            
            if (!response.ok) throw `API Error: ${response.status}`;
            
            let data = await response.json();
            apiMsg.textContent = `Fetched ${data.length} users successfully!`;
            apiMsg.className = "success";
        } catch (err) {
            apiMsg.textContent = "Failed to fetch data. Please try again later.";
            apiMsg.className = "error";
            console.error("API Error:", err);
        }
    });
</script>

</body>
</html>
